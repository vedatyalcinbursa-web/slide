<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Google Drive Slideshow</title>
<style>
    body { margin: 0; background: black; overflow: hidden; }
    .slide { width: 100vw; height: 100vh; position: absolute; display: none; }
    .slide img { width: 100%; height: 100%; object-fit: contain; background: black; }
</style>
</head>
<body>

<div id="slides"></div>

<script>
const API_KEY = "AIzaSyDxhHVj0YzW2CzTqriN_Tc8VPkax9Io_IM";
const FOLDER_ID = "12gBh-NvGWh2s-akmSHCdwvorZklC14dx";

async function loadImages() {
    const url =
      `https://www.googleapis.com/drive/v3/files?q='${FOLDER_ID}' in parents ` +
      `and mimeType contains 'image/'&key=${API_KEY}`;

    const res = await fetch(url);
    const data = await res.json();

    if (!data.files || data.files.length === 0) {
        document.body.innerHTML = "<h1 style='color:white;text-align:center;margin-top:40vh'>Klasörde Görüntülenebilir Resim Yok</h1>";
        return;
    }

    const slidesDiv = document.getElementById("slides");

    data.files.forEach(file => {
        const imgUrl = `https://drive.google.com/uc?export=download&id=${file.id}`;
        const div = document.createElement("div");
        div.classList.add("slide");
        div.innerHTML = `<img src="${imgUrl}" />`;
        slidesDiv.appendChild(div);
    });

    startShow();
}

let index = 0;

function startShow() {
    const slides = document.getElementsByClassName("slide");

    setInterval(() => {
        for (let i = 0; i < slides.length; i++) slides[i].style.display = "none";
        index = (index + 1) % slides.length;
        slides[index].style.display = "block";
    }, 4000);
}

loadImages();
</script>

</body>
</html>
